# Supabaseè®¾ç½®æŒ‡å—

æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨è®¾ç½®Supabaseé¡¹ç›®ï¼Œæ›¿ä»£Expressä»£ç†æœåŠ¡ã€‚

## ğŸ“‹ å‰ç½®è¦æ±‚

1. Node.js 18+ 
2. npm æˆ– yarn
3. Supabaseè´¦æˆ·

## ğŸš€ æ­¥éª¤1ï¼šåˆ›å»ºSupabaseé¡¹ç›®

### 1.1 æ³¨å†ŒSupabaseè´¦æˆ·
1. è®¿é—® [Supabaseå®˜ç½‘](https://supabase.com)
2. ç‚¹å‡» "Start your project" æ³¨å†Œè´¦æˆ·
3. éªŒè¯é‚®ç®±å¹¶ç™»å½•

### 1.2 åˆ›å»ºæ–°é¡¹ç›®
1. åœ¨Dashboardä¸­ç‚¹å‡» "New Project"
2. é€‰æ‹©ç»„ç»‡ï¼ˆä¸ªäººè´¦æˆ·å³å¯ï¼‰
3. å¡«å†™é¡¹ç›®ä¿¡æ¯ï¼š
   - **é¡¹ç›®åç§°**: `tg-de-translation`
   - **æ•°æ®åº“å¯†ç **: è®¾ç½®ä¸€ä¸ªå¼ºå¯†ç ï¼ˆè¯·è®°ä½ï¼‰
   - **åœ°åŒº**: é€‰æ‹©ç¦»æ‚¨æœ€è¿‘çš„åœ°åŒºï¼ˆæ¨èSingaporeï¼‰
4. ç‚¹å‡» "Create new project"
5. ç­‰å¾…é¡¹ç›®åˆ›å»ºå®Œæˆï¼ˆçº¦2åˆ†é’Ÿï¼‰

### 1.3 è·å–é¡¹ç›®ä¿¡æ¯
é¡¹ç›®åˆ›å»ºå®Œæˆåï¼Œåœ¨Dashboardä¸­æ‰¾åˆ°ï¼š
1. **Project URL**: ç±»ä¼¼ `https://abcdefghijk.supabase.co`
2. **API Key (anon/public)**: ç±»ä¼¼ `eyJhbGci...`

**âš ï¸ è¯·å°†è¿™ä¸¤ä¸ªä¿¡æ¯ä¿å­˜å¥½ï¼Œåé¢éœ€è¦ç”¨åˆ°ï¼**

## ğŸ› ï¸ æ­¥éª¤2ï¼šå®‰è£…Supabase CLI

```bash
# å…¨å±€å®‰è£…Supabase CLI
npm install -g supabase

# éªŒè¯å®‰è£…
supabase --version
```

## ğŸ”§ æ­¥éª¤3ï¼šåˆå§‹åŒ–å’Œéƒ¨ç½²

### 3.1 ç™»å½•Supabase
```bash
# ç™»å½•æ‚¨çš„Supabaseè´¦æˆ·
supabase login
```

### 3.2 è¿æ¥é¡¹ç›®
```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ
supabase link --project-ref YOUR_PROJECT_ID
```
**æ³¨æ„**: `YOUR_PROJECT_ID` æ˜¯æ‚¨çš„Project URLä¸­çš„IDéƒ¨åˆ†ã€‚ä¾‹å¦‚URLæ˜¯ `https://abcdefghijk.supabase.co`ï¼Œåˆ™Project IDæ˜¯ `abcdefghijk`ã€‚

### 3.3 éƒ¨ç½²Edge Function
```bash
# éƒ¨ç½²DeepLä»£ç†å‡½æ•°
supabase functions deploy deepl-proxy

# éªŒè¯éƒ¨ç½²
supabase functions list
```

æˆåŠŸåæ‚¨ä¼šçœ‹åˆ°ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    NAME     â”‚   STATUS    â”‚                VERSION                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ deepl-proxy â”‚  DEPLOYED   â”‚ 1                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## âš™ï¸ æ­¥éª¤4ï¼šé…ç½®åº”ç”¨

### 4.1 æ›´æ–°é…ç½®æ–‡ä»¶
ç¼–è¾‘ `config.js` æ–‡ä»¶ï¼Œæ›¿æ¢ä»¥ä¸‹å†…å®¹ï¼š

```javascript
const CONFIG = {
    // æ›¿æ¢ä¸ºæ‚¨çš„å®é™…ä¿¡æ¯
    supabaseUrl: 'https://YOUR_PROJECT_ID.supabase.co',
    supabaseAnonKey: 'YOUR_ANON_KEY_HERE',
    
    // å…¶ä»–é…ç½®ä¿æŒä¸å˜...
};
```

### 4.2 æµ‹è¯•Edge Function
åœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼š
```
https://YOUR_PROJECT_ID.supabase.co/functions/v1/deepl-proxy
```

åº”è¯¥çœ‹åˆ°CORSç›¸å…³çš„å“åº”ï¼Œè¯´æ˜å‡½æ•°éƒ¨ç½²æˆåŠŸã€‚

## ğŸ§ª æ­¥éª¤5ï¼šæœ¬åœ°æµ‹è¯•

### 5.1 å¯åŠ¨æœ¬åœ°å¼€å‘æœåŠ¡å™¨
```bash
# æ–¹æ³•1ï¼šä½¿ç”¨Python (æ¨è)
python -m http.server 8000

# æ–¹æ³•2ï¼šä½¿ç”¨Node.js
npx serve .

# æ–¹æ³•3ï¼šä½¿ç”¨Live Server (VS Codeæ’ä»¶)
# å³é”®index.html -> Open with Live Server
```

### 5.2 æµ‹è¯•åŠŸèƒ½
1. æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://localhost:8000`
2. ç‚¹å‡»å³ä¸‹è§’çš„è®¾ç½®æŒ‰é’® âš™ï¸
3. æ·»åŠ ç”¨æˆ·é…ç½®ï¼Œè¾“å…¥OpenRouter APIå¯†é’¥
4. æµ‹è¯•è¿æ¥ - åº”è¯¥æ˜¾ç¤ºæˆåŠŸ

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**Q: Edge Functionéƒ¨ç½²å¤±è´¥**
```bash
# æ£€æŸ¥Supabase CLIç‰ˆæœ¬
supabase --version

# é‡æ–°ç™»å½•
supabase logout
supabase login

# æ£€æŸ¥é¡¹ç›®è¿æ¥
supabase projects list
```

**Q: CORSé”™è¯¯**
Edge Functionå·²ç»é…ç½®äº†CORSå¤´ï¼Œå¦‚æœä»æœ‰é—®é¢˜ï¼š
1. ç¡®è®¤å‡½æ•°å·²æ­£ç¡®éƒ¨ç½²
2. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯
3. éªŒè¯é…ç½®æ–‡ä»¶ä¸­çš„URLæ˜¯å¦æ­£ç¡®

**Q: APIå¯†é’¥æ— æ•ˆ**
1. ç¡®è®¤ä½¿ç”¨çš„æ˜¯ `anon/public` å¯†é’¥ï¼Œä¸æ˜¯ `service_role` å¯†é’¥
2. æ£€æŸ¥å¯†é’¥æ˜¯å¦å®Œæ•´å¤åˆ¶ï¼ˆé€šå¸¸å¾ˆé•¿ï¼‰

### è·å–å¸®åŠ©
- [Supabaseå®˜æ–¹æ–‡æ¡£](https://supabase.com/docs)
- [Edge FunctionsæŒ‡å—](https://supabase.com/docs/guides/functions)
- [GitHub Issues](../../issues) - é¡¹ç›®ç›¸å…³é—®é¢˜

## âœ… ä¸‹ä¸€æ­¥

é…ç½®å®Œæˆåï¼Œæ‚¨å¯ä»¥ï¼š
1. ç»§ç»­é…ç½®GitHub Pageséƒ¨ç½²
2. æµ‹è¯•æ‰€æœ‰ç¿»è¯‘åŠŸèƒ½
3. ç§»é™¤Expressç›¸å…³æ–‡ä»¶

---

**ğŸ’¡ æç¤º**: ä¿å­˜å¥½æ‚¨çš„Supabaseé¡¹ç›®ä¿¡æ¯ï¼Œå»ºè®®åˆ›å»ºä¸€ä¸ªå®‰å…¨çš„å¤‡ä»½ã€‚ 