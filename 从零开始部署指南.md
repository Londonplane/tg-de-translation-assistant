# 🚀 从零开始部署指南

由于项目还没有初始化Git，我们需要从头开始设置整个部署流程。

## 📋 完整部署步骤

### 第1步：初始化Git仓库

在项目根目录执行：

```bash
# 初始化Git仓库
git init

# 添加所有文件到暂存区
git add .

# 创建首次提交
git commit -m "Initial commit: 中德翻译助手 with Supabase integration"
```

### 第2步：在GitHub创建仓库

1. **访问GitHub**: 前往 [https://github.com](https://github.com)
2. **登录账户**: 使用你的GitHub账户登录
3. **创建新仓库**: 点击右上角的 **+** → **New repository**
4. **仓库设置**:
   - **Repository name**: `tg-de-translation-assistant` (或其他你喜欢的名字)
   - **Description**: `中德翻译助手 - 基于Supabase的AI翻译工具`
   - **Visibility**: ✅ **Public** (GitHub Pages免费版需要公开仓库)
   - **Initialize**: ❌ 不要勾选任何初始化选项（我们已经有代码了）
5. **创建仓库**: 点击 **Create repository**

### 第3步：连接本地和远程仓库

GitHub会显示连接指令，类似这样：

```bash
# 添加远程仓库（替换为你的用户名和仓库名）
git remote add origin https://github.com/[你的用户名]/tg-de-translation-assistant.git

# 设置默认分支为main
git branch -M main

# 推送代码到GitHub
git push -u origin main
```

**🔄 示例**（请替换为你的实际用户名）：
```bash
git remote add origin https://github.com/your-username/tg-de-translation-assistant.git
git branch -M main
git push -u origin main
```

### 第4步：配置GitHub Pages

推送成功后：

1. **进入仓库页面**: 在GitHub上打开你刚创建的仓库
2. **打开设置**: 点击仓库页面顶部的 **Settings** 标签
3. **找到Pages设置**: 在左侧菜单中点击 **Pages**
4. **配置源**: 
   - Source 选择: **GitHub Actions**
   - 保存设置

### 第5步：配置Actions权限

1. **Actions设置**: Settings → **Actions** → **General**
2. **工作流权限**: 
   - 选择 **Read and write permissions**
   - 勾选 **Allow GitHub Actions to create and approve pull requests**
3. **保存设置**: 点击 **Save**

### 第6步：触发首次部署

配置完成后，GitHub Actions会自动触发部署：

1. **查看部署**: 前往仓库的 **Actions** 标签
2. **监控进度**: 查看 "Deploy to GitHub Pages" 工作流
3. **等待完成**: 通常需要2-3分钟

### 第7步：访问部署的网站

部署成功后：

1. **获取URL**: Settings → Pages 页面会显示网站地址
2. **访问格式**: `https://[你的用户名].github.io/[仓库名]`
3. **例如**: `https://zhangsan.github.io/tg-de-translation-assistant`

## 🛠️ 故障排除

### 推送失败
```bash
# 如果遇到认证问题，使用个人访问令牌
# 1. GitHub Settings → Developer settings → Personal access tokens
# 2. 生成新令牌，选择 repo 权限
# 3. 使用令牌作为密码
```

### 部署失败
1. 检查 Actions 标签中的错误日志
2. 确保仓库为 Public
3. 验证工作流文件语法正确

### 网站无法访问
1. 等待DNS传播（最多10分钟）
2. 检查 Settings → Pages 中的部署状态
3. 确认没有自定义域名冲突

## ✅ 完成检查清单

- [ ] ✅ Git仓库初始化完成
- [ ] ✅ GitHub仓库创建完成
- [ ] ✅ 本地代码推送成功
- [ ] ✅ GitHub Pages启用
- [ ] ✅ Actions权限配置
- [ ] ✅ 首次部署成功
- [ ] ✅ 网站可以访问
- [ ] ✅ API功能测试通过

## 🔗 重要信息

### 你的Supabase配置
- **项目URL**: `https://lztrfhjkivzckqisgrcc.supabase.co`
- **Edge Function**: `https://lztrfhjkivzckqisgrcc.supabase.co/functions/v1/deepl-proxy`

### 部署后需要配置
1. **DeepL API密钥**: 在网站设置中配置
2. **OpenRouter API密钥**: 为每个用户配置
3. **测试功能**: 验证翻译功能正常

## 🎯 最终架构

```
┌─────────────────┐    ┌──────────────────┐    ┌─────────────────┐
│   你的电脑       │───▶│    GitHub        │───▶│ GitHub Pages    │
│   (本地开发)     │    │   (代码仓库)      │    │  (网站托管)      │
└─────────────────┘    └──────────────────┘    └─────────────────┘
                                                        │
                                                        ▼
┌─────────────────┐    ┌──────────────────┐    ┌─────────────────┐
│   DeepL API     │◀───│  Supabase Edge   │◀───│      用户       │
│   (翻译服务)     │    │   Functions      │    │   (浏览器)      │
└─────────────────┘    │   (代理服务)      │    └─────────────────┘
                       └──────────────────┘
```

---

**开始执行**: 请从第1步开始，按顺序执行所有步骤！ 