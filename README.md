# 中德翻译助手

一个现代化的中德翻译单页面应用，提供多种翻译和德语学习功能。

## 🎯 功能模块

### ✅ 已完成（第一步）
- **基础架构**: 完整的单页面应用框架
- **响应式UI**: 现代化界面设计，支持移动端
- **模块切换**: 5个功能模块的导航和切换
- **基础交互**: 表单处理、按钮响应、复制功能
- **模拟功能**: 所有功能的基础流程和用户界面

### 📋 功能列表

1. **中译德模块** 🇨🇳➡️🇩🇪
   - 中文文本输入
   - 角色选择：教授、女助理(25/35岁)、水军(1/2/3/4号)
   - 场景选择：聊天、公告
   - 德语译文输出
   - 人称使用提示(Sie/Du/无人称)
   - 回译检查
   - 一键复制功能

2. **德译中模块** 🇩🇪➡️🇨🇳
   - 德语文本输入
   - 中文译文输出
   - 复制功能

3. **你/您切换模块** 👤↔️
   - Du/Sie形式转换
   - 德语人称切换

4. **德语检查模块** ✏️
   - 语法检查
   - 表达优化建议
   - 错误修正

5. **德语助手模块** 🤖
   - 语法解释
   - 词汇查询
   - 文化背景知识

## 🚀 使用方法

### 本地开发/测试
1. **启动本地服务器**: 运行 `python -m http.server 8000` 或 `npx serve .`
2. **访问应用**: 浏览器访问 `http://localhost:8000`  
3. **配置API密钥**: 点击⚙️按钮，输入OpenRouter和DeepL API密钥
4. **开始翻译**: 选择角色，输入中文开始翻译

### 💻 快速部署

#### GitHub Pages部署 (推荐)
1. **推送代码**: 将代码推送到GitHub仓库的`main`分支
2. **启用Pages**: 仓库Settings → Pages → Source选择"GitHub Actions"
3. **配置权限**: Settings → Actions → General → 启用"Read and write permissions"
4. **自动部署**: 每次推送自动触发GitHub Actions构建和部署
5. **访问网站**: 部署完成后可通过 `https://[用户名].github.io/[仓库名]` 访问

详细步骤请参考: `docs/github-pages-setup.md`

#### 本地测试
1. **启动服务器**: `python -m http.server 8000` 或 `npx serve .`
2. **访问应用**: `http://localhost:8000`
3. **配置API**: 设置OpenRouter和DeepL密钥

### 基本操作
- 点击顶部导航切换功能模块
- 在相应模块中输入内容并使用功能按钮  
- 支持键盘快捷键：Ctrl/Cmd + Enter 触发主要操作

## 🎨 界面特性

- **现代化设计**: 渐变背景、圆角边框、阴影效果
- **响应式布局**: 自适应桌面和移动设备
- **流畅动画**: 模块切换和交互反馈
- **直观操作**: 清晰的视觉层次和交互指引
- **状态反馈**: 加载提示、成功/错误消息

## 📱 技术特性

- **前端**: HTML5 + CSS3 + 原生JavaScript
- **后端**: Supabase Edge Functions (无服务器)
- **部署**: GitHub Pages (静态托管)
- **无框架**: 前端不依赖任何外部库
- **跨平台**: 支持所有现代浏览器
- **高可用**: Supabase提供99.9%可用性保证

## 🔄 当前状态

**✅ 已完成API集成！** 支持真实的AI翻译功能：

- ✅ 完整的用户界面
- ✅ OpenRouter API集成
- ✅ 7种角色个性化翻译
- ✅ 自动回译检查功能
- ✅ Sie/Du人称智能检测
- ✅ 表单验证和错误处理
- ✅ 复制到剪贴板
- ✅ 响应式设计
- ✅ API配置界面

## 🔌 多用户API配置说明

### 支持的模型
- **Gemini 2.5 Flash**: 教授、公告女助理
- **Mistral Small 3.2 24B**: 25岁女助理、35岁女助理、四种水军角色

### 多用户管理配置
1. 点击右下角的**设置按钮** ⚙️
2. 点击**"+ 添加新用户"**添加团队成员
3. 为每个用户输入：
   - **用户名称**（例如：张三）
   - **独立的OpenRouter API密钥**
4. 点击**"保存配置"**完成添加
5. 在**用户选择下拉框**中切换不同用户
6. 点击**"测试连接"**验证当前用户的API配置

### 用户管理功能
- **切换用户**: 下拉选择不同用户，自动切换API配置
- **删除用户**: 选择用户后可删除其配置
- **导出备份**: 导出所有用户配置数据
- **状态监控**: 实时显示当前用户和API状态

### 获取API密钥
1. 访问 [OpenRouter官网](https://openrouter.ai)
2. 为每个用户注册独立账户并充值  
3. 生成各自的API密钥
4. 分别配置到对应用户

### 角色特色翻译
- 🎓 **教授**: 正式学术，C1-C2语法水平
- 👩‍🎓 **25岁女助理**: 年轻活泼，口语化表达
- 👩‍💼 **35岁女助理**: 成熟稳重，专业可信
- 📢 **公告女助理**: 简洁正式，公告风格
- 🗣️ **水军1号**: 普通型，语气正常平和
- 🗣️ **水军2号**: 情绪化，夸张热情
- 🗣️ **水军3号**: 引导讨论，互动性强  
- 🗣️ **水军4号**: 煽动性强，情绪激烈

## 📁 项目文件结构

### 前端文件
- `index.html` - 主页面文件
- `styles.css` - 样式文件
- `script.js` - 主应用逻辑
- `prompts-config.js` - **角色提示词配置**（可编辑）
- `api-integration.js` - API集成模块
- `config.js` - **应用配置文件**

### Supabase后端
- `supabase/functions/deepl-proxy/` - **DeepL API代理Edge Function**
- `supabase/config.toml` - Supabase项目配置

### 部署和文档
- `docs/supabase-setup.md` - **Supabase设置指南**
- `scripts/setup-supabase.sh` - 自动设置脚本
- `README.md` - 项目说明
- `快速开始.md` - 快速开始指南

## ⚡ 核心功能

### 🎯 智能翻译规则
1. 中文"您" → 德语"Sie"
2. 中文"你" → 德语"Du"  
3. 纯净输出，无引号无注释
4. 角色化风格适配
5. 自动回译验证

### 🔧 便捷修改
- 编辑 `prompts-config.js` 即可修改角色提示词
- 无需重启，保存后立即生效
- 支持自定义翻译风格

## 📋 已完成功能

✅ **多用户管理**: 支持团队使用，独立API密钥监控  
✅ **7种个性化角色**: 不同场景的专业翻译风格  
✅ **智能人称检测**: 自动识别Sie/Du使用情况  
✅ **双模型支持**: Gemini 2.5 + Mistral Small 3.2  
✅ **回译验证**: 质量检查和准确性验证  
✅ **用户配置管理**: 导出备份、状态监控  

## 📋 未来规划

1. **功能增强**: 添加历史记录、批量翻译
2. **模型扩展**: 支持更多AI模型和自定义模型
3. **性能优化**: 缓存机制、智能错误恢复
4. **高级设置**: 温度参数、最大长度、个性化调节

## 💡 使用建议

### 🔧 配置建议
- **团队使用**: 为每个成员配置独立API密钥，便于监控使用情况
- **首次使用**: 先添加用户并配置API密钥，测试连接成功后开始使用
- **用户切换**: 在配置界面选择不同用户，系统自动切换对应的API配置

### 🎭 角色选择建议  
- **教授**: 正式文档、学术交流、专业解释
- **25岁女助理**: 日常聊天、轻松交流、社群互动
- **35岁女助理**: 商务沟通、专业建议、客户服务
- **公告女助理**: 正式通知、重要信息、官方公告
- **水军1-4号**: 营销推广、话题炒作、社群活跃

### 📊 质量保证
- **回译检查**: 自动验证翻译准确性和语义一致性
- **人称检测**: 智能识别Sie/Du使用，确保语体得当
- **自定义配置**: 编辑 `prompts-config.js` 调整各角色翻译风格

---

**开发状态**: 🟢 Supabase迁移完成，GitHub Pages部署就绪  
**版本**: v3.0 - 无服务器架构翻译助手  
**架构**: Supabase + GitHub Pages (完全静态化) 